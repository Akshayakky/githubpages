(this.webpackJsonpgithubproject=this.webpackJsonpgithubproject||[]).push([[0],{180:function(e,a,t){e.exports=t.p+"static/media/cracker3.ccb5f5aa.png"},286:function(e,a,t){e.exports=t(449)},291:function(e,a,t){},335:function(e,a){},337:function(e,a){},351:function(e,a){},353:function(e,a){},381:function(e,a){},383:function(e,a){},384:function(e,a){},390:function(e,a){},392:function(e,a){},410:function(e,a){},413:function(e,a){},429:function(e,a){},432:function(e,a){},449:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(16),l=t.n(o),i=(t(291),t(6)),c=t(10),m=t(488),s=t(490),u=t(492),d=t(450),p=t(273),g=t(263),b=t.n(g),h=t(262),E=t.n(h),f=t(493),k=t(494),v=t(264),y=t.n(v),O=t(20),w=t(13),C=t(265),j=t.n(C),x=t(270),S=t(523),N=Object(m.a)((function(e){return{grow:{flexGrow:1},title:Object(c.a)({display:"none"},e.breakpoints.up("md"),{display:"block",marginLeft:e.spacing(2)}),search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"white",width:500,marginLeft:e.spacing(2)},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"black"},inputRoot:{color:"inherit",width:"100%"},inputInput:{paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),color:"black"},bookIcon:Object(c.a)({},e.breakpoints.up("md"),{marginLeft:e.spacing(20)})}}));function I(e){var a=N(),t=Object(n.useState)(!1),o=Object(i.a)(t,2),l=o[0],c=o[1],m=Object(n.useState)(null),g=Object(i.a)(m,2),h=g[0],v=g[1],C=Boolean(h),I=e.login||null!==localStorage.getItem("key")&&void 0!==localStorage.getItem("key")&&""!==localStorage.getItem("key"),W=function(){v(null)};return r.a.createElement("div",{className:a.grow},l?r.a.createElement(O.a,{to:"/githubpages"}):null,l&&""!==e.search?location.reload():null,r.a.createElement(s.a,{position:"static",style:{background:"#990033"}},r.a.createElement(u.a,null,r.a.createElement(w.b,{to:"/githubpages",style:{color:"white"}},r.a.createElement(E.a,{onClick:function(){c(!0)},className:a.bookIcon})),r.a.createElement(d.a,{className:a.title,variant:"h6",noWrap:!0},"The Bookstore"),r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement(b.a,null)),r.a.createElement(w.b,{to:"/githubpages",style:{textDecoration:"none"}},r.a.createElement(p.a,{placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"},onChange:function(a){e.setSearch(a.target.value)}.bind(this)}))),r.a.createElement("div",{className:a.grow}),r.a.createElement("div",{style:{marginTop:5}},"admin"!==e.user.role?r.a.createElement(f.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(k.a,{badgeContent:e.cartCount,color:"secondary"},r.a.createElement(w.b,{to:I?"/cart":"/login",style:{color:"white",style:"none"}},r.a.createElement(y.a,null)))):r.a.createElement(w.b,{to:"/profile",style:{textDecoration:"none",color:"red"}},r.a.createElement(S.a,{onClick:W},"Admin"))),r.a.createElement("div",null,r.a.createElement(f.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){v(e.currentTarget)},color:"inherit"},r.a.createElement(j.a,null)),r.a.createElement(x.a,{id:"menu-appbar",anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:C,onClose:W},I?r.a.createElement(S.a,{disabled:!0},r.a.createElement("b",null,"Hello ",e.user.firstName,"!")):null,"admin"!==e.user.role?r.a.createElement(w.b,{to:I?"/profile":"/login",style:{textDecoration:"none",color:"black"}},r.a.createElement(S.a,{onClick:W},"Profile")):null,"user"===e.user.role&&I?r.a.createElement(w.b,{to:"/my-order",style:{textDecoration:"none",color:"black"}},r.a.createElement(S.a,{onClick:W},"My Orders")):null,"admin"===e.user.role&&I?r.a.createElement(w.b,{to:"/order-data",style:{textDecoration:"none",color:"red"}},r.a.createElement(S.a,{onClick:W},"Orders")):null,"admin"===e.user.role&&I?r.a.createElement(w.b,{to:"/admin",style:{textDecoration:"none",color:"red"}},r.a.createElement(S.a,{onClick:W},"Add Books")):null,null!==localStorage.getItem("key")&&void 0!==localStorage.getItem("key")&&""!==localStorage.getItem("key")?r.a.createElement(w.b,{to:"/login",style:{textDecoration:"none",color:"black"}},r.a.createElement(S.a,{onClick:function(){localStorage.setItem("key",""),localStorage.setItem("userEmail",""),location.reload()}.bind(this)},"Sign Out")):r.a.createElement(w.b,{to:"/login",style:{textDecoration:"none",color:"black"}},r.a.createElement(S.a,{onClick:W},"Sign In")))))))}var W=t(501),T=t(496),A=t(519),P=t(497),B=t(495),D=t(272),q=t(12),z=t.n(q),R=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center",maxWidth:500},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"90%",marginTop:e.spacing(3),marginBottom:e.spacing(0)},submit:{margin:e.spacing(6,0,5)}}}));function L(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)(e.user.firstName),m=Object(i.a)(c,2),s=m[0],u=m[1],p=Object(n.useState)(e.user.lastName),g=Object(i.a)(p,2),b=g[0],h=g[1],E=R(),f={headers:{Authorization:"Bearer "+localStorage.getItem("key")}},k=function(){l(!o),o&&z.a.put("https://d-bookstore.herokuapp.com/user",{firstName:s,lastName:b,password:e.user.password,role:e.user.role},f).then((function(e){location.reload()}))};return r.a.createElement("div",null,""===localStorage.getItem("key")?r.a.createElement(O.a,{to:"/login"}):r.a.createElement(B.a,{component:"main",maxWidth:"xs"},r.a.createElement(T.a,null),r.a.createElement(D.a,{className:E.paper,variant:"elevation"},r.a.createElement(d.a,{component:"h1",variant:"h5"},"My Profile"),r.a.createElement("form",{className:E.form},r.a.createElement(P.a,{container:!0,spacing:5},r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,size:"small",defaultValue:e.user.firstName,onChange:function(e){return u(e.target.value)},disabled:!o})),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",size:"small",onChange:function(e){return h(e.target.value)},defaultValue:e.user.lastName,disabled:!o})),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",size:"small",defaultValue:e.user.email,disabled:!0})),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,name:"role",label:"Role",type:"role",id:"role",size:"small",defaultValue:e.user.role,disabled:!0}))),o?r.a.createElement(W.a,{fullWidth:!0,variant:"contained",color:"primary",className:E.submit,onClick:k},"SAVE"):r.a.createElement(W.a,{fullWidth:!0,variant:"contained",color:"primary",className:E.submit,onClick:k},"CHANGE")))))}var F=t(502),M=t(503),Q=t(504),H=t(144),V=t.n(H),G=t(143),U=t.n(G),J=t(184),$=Object(m.a)((function(e){return{cardMedia:{paddingTop:"60%",width:"40%",marginTop:15,marginBottom:15,marginLeft:"50%",transform:"translate(-50%)"},mediaContainer:Object(c.a)({backgroundColor:"#f2f2f2",boxShadow:"none",borderRadius:0},e.breakpoints.up("md"),{minWidth:150}),cardContent:{height:70,flexGrow:0},price:{padding:0,margin:0,fontWeight:"bold"},root:{"& > span":{margin:e.spacing(2)}},input:{padding:10,margin:3,maxHeight:1,width:20,textAlign:"center"},textField:{marginLeft:5,marginRight:5},text:{marginLeft:20}}}));function Z(e){var a,t,n,o,l,c=$(),m=r.a.useState(e.quantity),s=Object(i.a)(m,2),u=s[0],p=s[1],g=function(a){1===a?(p(u-1),e.updateQuantity(u-1)):(p(u+1),e.updateQuantity(u+1))};return void 0!==e.book&&(t=e.book.bookAuthor,a=e.book.bookTitle,n="Rs. "+e.book.bookPrice,o=e.book.bookImage,l=e.book.bookDescription),r.a.createElement("div",{style:{display:e.display}},r.a.createElement(F.a,{className:c.mediaContainer,style:{background:e.backgroundcolor}},r.a.createElement(M.a,{className:c.cardMedia,image:o,title:l,style:e.style})),r.a.createElement(Q.a,{className:c.cardContent},r.a.createElement(d.a,{variant:"body2",component:"h2"},a),r.a.createElement(d.a,{variant:"caption",color:"textSecondary",display:"block"},t),r.a.createElement(d.a,{variant:"caption",className:c.price},n),"cart"===e.page?r.a.createElement("div",null,r.a.createElement(J.a,{type:"button",disabled:u<2,centerRipple:!0,onClick:function(){return g(1)}},r.a.createElement(U.a,{color:"primary"})),r.a.createElement(A.a,{className:c.textField,variant:"outlined",disabled:!0,inputProps:{className:c.input},value:e.quantity}),r.a.createElement(J.a,{type:"button",centerRipple:!0,onClick:function(){return g(2)}},r.a.createElement(V.a,{color:"primary"})),r.a.createElement(d.a,{type:"Button",onClick:e.onChange,className:c.text,align:"left",display:"inline",style:{cursor:"pointer"}},"Remove")):r.a.createElement(r.a.Fragment,null),"summary"===e.page?r.a.createElement("div",null,r.a.createElement("br",null),"(",e.quantity,")"):r.a.createElement(r.a.Fragment,null)))}var Y=t(505),K=t(520),_=t(517),X=t(500),ee=t(44),ae=Object(m.a)((function(e){var a;return{layout:Object(c.a)({margin:"20px"},e.breakpoints.up("md"),{margin:"50px 200px"}),paper:Object(c.a)({borderColor:"#d9d9d9",borderRadius:0,backgroundColor:"rgba(242, 242, 242,0.09)",marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),heading:{padding:e.spacing(1,0,2)},buttons:(a={backgroundColor:"#990033",color:"white",marginTop:20,borderRadius:0,height:30},Object(c.a)(a,e.breakpoints.up("md"),{marginLeft:"80%"}),Object(c.a)(a,"marginBottom","2%"),Object(c.a)(a,"width",115),Object(c.a)(a,"border","none"),a)}}));function te(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)(),m=Object(i.a)(c,2),s=m[0],u=m[1],p=Object(n.useState)(!1),g=Object(i.a)(p,2),b=g[0],h=g[1],E={headers:{Authorization:"Bearer "+localStorage.getItem("key")}},f=Object(ee.a)({initialValues:{name:"",pinCode:"",locality:"",address:"",landmark:"",city:"",addressType:"work"},onSubmit:function(a){b?(z.a.put("https://d-bookstore.herokuapp.com/customer/"+s,f.values,E).then((function(a){e.onClick()})),l(!0)):(z.a.post("https://d-bookstore.herokuapp.com/customer",f.values,E).then((function(a){u(a.data.customerId),e.onClick(),e.setCustomer(a.data)})),h(!0),l(!0))},validate:function(e){var a={};return e.name.length<3&&(a.name="name at least have 3 character"),/^[0-9]{10}$/i.test(e.phoneNumber)||(a.phoneNumber="Must have 10 digit"),/^[0-9]{6}$/i.test(e.pinCode)||(a.pincode="Must have 6 digit"),a}}),k=ae();return r.a.createElement("form",{onSubmit:f.handleSubmit},r.a.createElement("main",{className:k.layout},r.a.createElement(D.a,{className:k.paper,variant:"outlined",square:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{color:"inherit",noWrap:!0,variant:"h6",gutterBottom:!0,align:"left"},"Customer Details"),r.a.createElement(d.a,{align:"right",gutterBottom:!0,style:{cursor:"pointer"},onClick:function(){l(!1)}},o?"Edit":""),r.a.createElement(P.a,{item:!0,xs:12,sm:9},r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,disabled:o,type:"text",id:"name",name:"name",label:"Full Name",fullWidth:!0,value:f.values.name,variant:"outlined",onChange:f.handleChange,size:"small",margin:"dense"}),f.errors.name?r.a.createElement("div",null,f.errors.name):null),r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,disabled:o,type:"number",id:"phoneNumber",name:"phoneNumber",label:"Phone Number",fullWidth:!0,variant:"outlined",onChange:f.handleChange,size:"small",margin:"dense"}),f.errors.phoneNumber?r.a.createElement("div",null,f.errors.phoneNumber):null),r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,disabled:o,type:"number",id:"pincode",name:"pinCode",label:"Pincode",value:f.values.pinCode,fullWidth:!0,variant:"outlined",onChange:f.handleChange,size:"small",margin:"dense"}),f.errors.pincode?r.a.createElement("div",null,f.errors.pincode):null),r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,disabled:o,id:"locality",name:"locality",label:"Locality",value:f.values.locality,fullWidth:!0,autoComplete:"locality",variant:"outlined",onChange:f.handleChange,size:"small",margin:"dense"})),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{required:!0,disabled:o,id:"address",name:"address",label:"Address",value:f.values.address,fullWidth:!0,rows:2,autoComplete:"shipping address",variant:"outlined",onChange:f.handleChange,size:"small",margin:"dense"})),r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,disabled:o,id:"city",name:"city",label:"City",value:f.values.city,fullWidth:!0,autoComplete:"shipping address-city",variant:"outlined",onChange:f.handleChange,size:"small",margin:"dense"})),r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,disabled:o,id:"landmark",name:"landmark",label:"Landmark",value:f.values.landmark,fullWidth:!0,autoComplete:"address-landmark",variant:"outlined",onChange:f.handleChange,size:"small",margin:"dense"})),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(d.a,{align:"left"},"Type")),r.a.createElement(X.a,{component:"fieldset"},r.a.createElement(K.a,{name:"addressType",value:f.values.addressType,onChange:f.handleChange},r.a.createElement("div",null,r.a.createElement(Y.a,{disabled:o,value:"work",control:r.a.createElement(_.a,null),label:"Work"}),r.a.createElement(Y.a,{disabled:o,value:"home",control:r.a.createElement(_.a,null),label:"Home"}),r.a.createElement(Y.a,{disabled:o,value:"other",control:r.a.createElement(_.a,null),label:"Other"})))))),o?null:r.a.createElement("button",{type:"submit",className:k.buttons},"CONTINUE")))))}var ne=Object(m.a)((function(e){var a;return{cardMedia:{paddingTop:"60%",width:"40%",marginTop:15,marginBottom:15,marginLeft:"50%",transform:"translate(-50%)"},mediaContainer:Object(c.a)({backgroundColor:"#f2f2f2",boxShadow:"none",width:120,borderRadius:0},e.breakpoints.up("md"),{minWidth:150}),cardContent:{height:70,flexGrow:0},price:{padding:0,margin:0,fontWeight:"bold"},root:{"& > span":{margin:e.spacing(2)}},input:{padding:10,margin:3,maxHeight:1,width:20,textAlign:"center"},textField:{marginLeft:5,marginRight:5},text:(a={},Object(c.a)(a,e.breakpoints.up("sm"),{marginLeft:30}),Object(c.a)(a,"border","1px solid #d9d9d9"),a)}}));function re(e){var a,t,n,o,l,c=ne(),m=r.a.useState(e.quantity),s=Object(i.a)(m,2),u=s[0],p=s[1],g=function(a){1===a?(p(u-1),e.updateQuantity(u-1)):(p(u+1),e.updateQuantity(u+1))};return void 0!==e.book&&(t=e.book.bookAuthor,a=e.book.bookTitle,n="Rs. "+e.book.bookPrice,o=e.book.bookImage,l=e.book.bookDescription),r.a.createElement("div",{style:{display:e.display}},r.a.createElement(F.a,{className:c.mediaContainer,style:{background:e.backgroundcolor}},r.a.createElement(M.a,{className:c.cardMedia,image:o,title:l,style:e.style})),r.a.createElement(Q.a,{className:c.cardContent},r.a.createElement(d.a,{variant:"body2",component:"h2"},a),r.a.createElement(d.a,{variant:"caption",color:"textSecondary",display:"block"},t),r.a.createElement(d.a,{variant:"caption",className:c.price},n),"cart"===e.page?r.a.createElement("div",null,r.a.createElement(J.a,{type:"button",disabled:u<2,centerRipple:!0,onClick:function(){return g(1)}},r.a.createElement(U.a,{color:"primary"})),r.a.createElement(A.a,{className:c.textField,variant:"outlined",disabled:!0,inputProps:{className:c.input},value:e.quantity}),r.a.createElement(J.a,{type:"button",centerRipple:!0,onClick:function(){return g(2)}},r.a.createElement(V.a,{color:"primary"})),r.a.createElement(d.a,{type:"Button",onClick:e.onChange,className:c.text,align:"left",display:"inline",style:{cursor:"pointer"}},"Remove")):r.a.createElement(r.a.Fragment,null),"summary"===e.page?r.a.createElement("div",null,r.a.createElement("br",null),"(",e.quantity,")"):r.a.createElement(r.a.Fragment,null)))}function oe(e){var a=Object(n.useState)(),t=Object(i.a)(a,2),o=t[0],l=t[1],s=Object(n.useState)(),u=Object(i.a)(s,2),p=u[0],g=u[1],b=Object(n.useState)(!0),h=Object(i.a)(b,2),E=h[0],f=h[1],k=r.a.useState(!1),v=Object(i.a)(k,2),y=v[0],C=v[1],j=r.a.useState(!1),x=Object(i.a)(j,2),S=x[0],N=x[1],I=Object(n.useState)(""),W=Object(i.a)(I,2),T=W[0],A=W[1],P={padding:40,height:125,width:75},B={headers:{Authorization:"Bearer "+localStorage.getItem("key")}};Object(n.useEffect)((function(){z.a.get("https://d-bookstore.herokuapp.com/cart",B).then((function(e){l(e)})).catch((function(e){console.log(e)}))}),[E]);var D=[],q=[];if(void 0!==o)for(var R=0;R<o.data.length;R++)D.push(o.data[R].book.bookId),q.push(o.data[R]);Object(n.useEffect)((function(){z.a.get("https://d-bookstore.herokuapp.com/book/get-books-by-id?ids="+D,B).then((function(e){g(e.data)}))}),[o]);var L=Object(m.a)((function(e){var a;return{cardGrid:{padding:0,margin:0},card:{height:"100%",width:200,boxShadow:"none",display:"flex"},buttons:(a={backgroundColor:"#990033",color:"white",borderRadius:0,height:30},Object(c.a)(a,e.breakpoints.up("sm"),{marginLeft:"78%"}),Object(c.a)(a,"marginBottom","5%"),Object(c.a)(a,"width",115),Object(c.a)(a,"border","none"),a),root:{"& > *":{marginTop:e.spacing(2),position:"absolute",left:"50%",transform:"translate(-50%, -50%)"}},title:Object(c.a)({marginTop:15},e.breakpoints.up("md"),{marginLeft:e.spacing(4.5)}),cart:Object(c.a)({border:"thin solid #d9d9d9",margin:"20px",marginBottom:50,paddingLeft:20},e.breakpoints.up("md"),{margin:"50px 200px"})}})),F=function(e){console.log(e.bookId),void 0!==e&&z.a.delete("https://d-bookstore.herokuapp.com/cart/delete-book/"+e.bookId,B).then((function(e){f(!E)}))},M=function(e){for(var a=0;a<p.length;a++)if(p[a].bookId==e)return a;return 2},Q=L(),H=0;return r.a.createElement("div",null,""===localStorage.getItem("key")?r.a.createElement(O.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement("div",{className:Q.cart},r.a.createElement(d.a,{variant:"h6",color:"inherit",noWrap:!0,className:Q.title},"My Cart(",D.length,")"),void 0!==p?q.map((function(e,a){return r.a.createElement("div",{key:a,style:{height:"100%",width:"100%"}},r.a.createElement(re,{quantity:e.quantity,updateQuantity:function(a){var t,n;t=a,n=e.book,z.a.put("https://d-bookstore.herokuapp.com/cart/"+t+"?book_id="+JSON.stringify(n.bookId),{},B).then((function(e){f(!E)}))},book:e.book,onChange:function(){return F(e.book)},backgroundcolor:"none",style:P,display:"flex",page:"cart"}))})):r.a.createElement("h1",null," Data Not Available "),!y&&D.length>0?r.a.createElement("button",{onClick:function(){C(!0)},className:Q.buttons},"PLACE ORDER"):null),y?r.a.createElement("div",null,r.a.createElement(te,{setCustomer:function(e){return A(e)},onClick:function(){N(!0)}})):r.a.createElement("div",{className:Q.cart},r.a.createElement(d.a,{variant:"h6",color:"inherit",noWrap:!0,className:Q.title},"Customer Details")),S?r.a.createElement("div",{className:Q.cart},r.a.createElement(d.a,{variant:"h6",color:"inherit",noWrap:!0,className:Q.title},"Order Summary"),void 0!==p?q.map((function(e,a){return r.a.createElement("div",{key:a,style:{height:"100%",width:"100%"}},r.a.createElement(Z,{quantity:e.quantity,book:p[a],onChange:function(){return F(e.bookId)},backgroundcolor:"none",style:P,display:"flex",page:"summary"}),r.a.createElement("div",{style:{display:"none"}},H+=e.quantity*p[a].bookPrice))})):r.a.createElement("h1",null," Data Not Available "),r.a.createElement("div",{style:{}},r.a.createElement(d.a,{variant:"h4",color:"inherit",noWrap:!0,className:Q.title},"Total Amount",r.a.createElement("br",null),"Rs. ",H)),r.a.createElement(w.b,{to:"/order-confirm"},r.a.createElement("button",{className:Q.buttons,onClick:function(){q.map((function(e,a){return z.a.post("https://d-bookstore.herokuapp.com/order",{book:e.book,bookQuantity:e.quantity,totalPrice:p[M(e.book.bookId)].bookPrice*e.quantity,customer:T},B)})),z.a.post("https://d-bookstore.herokuapp.com/mail-sender/order-confirm",q,B),z.a.delete("https://d-bookstore.herokuapp.com/cart/empty-cart",B)}},"CHECKOUT"))):r.a.createElement("div",{className:Q.cart},r.a.createElement(d.a,{variant:"h6",color:"inherit",noWrap:!0,className:Q.title},"Order Summary"))))}var le=t(506),ie=t(268),ce=t.n(ie),me=t(507),se=t(516),ue=t(518),de=ce()({palette:{secondary:{main:"#990033"}}}),pe=Object(m.a)((function(e){return{cardGrid:{paddingTop:e.spacing(2),paddingBottom:e.spacing(12)},card:{height:"100%",boxShadow:"none",border:"thin solid #d9d9d9"},addButton:{width:"100%",border:"thin solid #d5cccc",padding:0,boxShadow:"none",height:30,textAlign:"center",backgroundColor:"#b3003b"},wishlistButton:{width:"50%",border:"thin solid #d5cccc",padding:0,boxShadow:"none",height:30,textAlign:"center"},root:{"& > *":Object(c.a)({marginTop:e.spacing(2),transform:"translate(-50%, -50%)",position:"relative",marginLeft:"59%",bottom:60},e.breakpoints.down("sm"),{bottom:40,marginLeft:"50%"})},center:{"& > *":Object(c.a)({marginTop:e.spacing(2),transform:"translate(-50%, -50%)",position:"relative",marginLeft:"63.5%",bottom:60},e.breakpoints.down("sm"),{bottom:40,marginLeft:"56%"})},title:Object(c.a)({marginTop:"3.1%",paddingLeft:15,float:"left"},e.breakpoints.up("md"),{marginLeft:e.spacing(24)}),formControl:{margin:e.spacing(1),marginTop:"2.5%",width:200,float:"right",border:"1px solid #d9d9d9",borderBottom:"none"}}}));function ge(e){var a=this,o=Object(n.useState)(),l=Object(i.a)(o,2),c=l[0],m=l[1],s=pe(),u=Object(n.useState)([]),p=Object(i.a)(u,2),g=p[0],b=p[1],h=r.a.useState(1),E=Object(i.a)(h,2),f=E[0],k=E[1],v=Object(n.useState)(),y=Object(i.a)(v,2),C=y[0],j=y[1],x=Object(n.useState)(!1),N=Object(i.a)(x,2),I=N[0],T=N[1],A=[],D=t(201);Object(n.useEffect)((function(){j("Loading Books..."),z.a.get("https://d-bookstore.herokuapp.com/book/sorted/default/"+e.search).then((function(e){m(e.data),j("")})).catch((function(e){404===e.response.status&&j("No Books Found!"),403===e.response.status&&T(!0)})),k(1)}),[e.search]),Object(n.useEffect)((function(){null!==localStorage.getItem("key")&&void 0!==localStorage.getItem("key")&&""!==localStorage.getItem("key")&&z.a.get("https://d-bookstore.herokuapp.com/cart",q).then((function(e){b((function(){return g.concat(e.data)}))})),k(1)}),[]);var q={headers:{Authorization:"Bearer "+localStorage.getItem("key")}},R=!0,L=function(e){z.a.post("https://d-bookstore.herokuapp.com/cart",{book:e,quantity:1},q).then((function(e){b((function(){return g.concat(e.data)}))})).catch((function(e){403===e.response.status&&T(!0)}))};if(null!==localStorage.getItem("key")&&void 0!==localStorage.getItem("key")&&""!==localStorage.getItem("key")&&D.decode(localStorage.getItem("key")).exp<Date.now()/1e3&&(localStorage.setItem("key",""),location.reload()),void 0!==c)for(var M=c.length,Q=1+12*(f-1);Q<=12*f&&Q<=c.length;Q++)A.push(Q);return r.a.createElement(r.a.Fragment,null,I?r.a.createElement(O.a,{to:"/login"}):null,r.a.createElement(d.a,{variant:"h6",color:"inherit",noWrap:!0,className:s.title},"Books(",M," books)"),r.a.createElement(X.a,{className:s.formControl},r.a.createElement(ue.a,{defaultValue:"default",labelId:"demo-simple-select-filled-label",id:"select",onChange:function(a){z.a.get("https://d-bookstore.herokuapp.com/book/sorted/"+a.target.value+"/"+e.search).then((function(e){m(e.data)})),k(1)}},r.a.createElement(S.a,{value:"default"}," Sort By : Default"),r.a.createElement(S.a,{value:"increasing"},"Price : Low to High"),r.a.createElement(S.a,{value:"decreasing"},"Price : High to Low"),r.a.createElement(S.a,{value:"newlyArrived"},"Newly Arrived"))),r.a.createElement(B.a,{className:s.cardGrid,maxWidth:"md"},r.a.createElement(P.a,{container:!0,spacing:3},A.map((function(t,n){return r.a.createElement(P.a,{item:!0,key:t,xs:12,sm:6,md:3},R=!0,r.a.createElement(F.a,{className:s.card},g.map((function(e){JSON.stringify(e.book)===JSON.stringify(c[t-1])&&(R=!1)})),r.a.createElement(Z,{book:c[t-1]}),r.a.createElement(le.a,null,"admin"!==e.user.role?R?r.a.createElement(me.a,{theme:de},""===localStorage.getItem("key")?r.a.createElement(W.a,{size:"large",variant:"contained",color:"secondary",className:s.addButton,onClick:L.bind(a,c[t-1].bookId)},r.a.createElement(w.b,{to:"/login",style:{color:"white",textDecoration:"none"}},r.a.createElement(d.a,{variant:"caption"},"ADD TO CART"))):r.a.createElement(W.a,{size:"large",variant:"contained",color:"secondary",className:s.addButton,onClick:L.bind(a,c[t-1])},r.a.createElement(d.a,{variant:"caption"},"ADD TO CART"))):r.a.createElement("button",{className:s.addButton,style:{width:"100%",backgroundColor:"blue"}},r.a.createElement(d.a,{variant:"caption",style:{color:"white"}},"ADDED TO BAG")):null)))})),r.a.createElement(P.a,{container:!0,justify:"center"},r.a.createElement(d.a,{component:"h3",variant:"h4"},C)))),void 0!==c?r.a.createElement("div",{className:M/12>=3?s.root:s.center},r.a.createElement(se.a,{count:Math.ceil(M/12),color:"secondary",page:f,onChange:function(e,a){k(a)}})):null)}var be=t(522),he=t(67),Ee=t.n(he),fe=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ke(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)(" "),m=Object(i.a)(c,2),s=m[0],u=m[1],p=fe(),g=Object(ee.a)({initialValues:{email:"",password:""},onSubmit:function(a){z.a.post("https://d-bookstore.herokuapp.com/authenticate",g.values).then((function(a){localStorage.setItem("key",a.data.jwt),localStorage.setItem("userEmail",g.values.email.split(" ")[0]),l(!0),e.login(!0)})).catch((function(e){403===e.response.data.status&&u("Invalid Username Or Password!")}))}});return r.a.createElement(B.a,{component:"main",maxWidth:"xs"},o?r.a.createElement(O.a,{to:"/githubpages"}):null,r.a.createElement(T.a,null),r.a.createElement("div",{className:p.paper},r.a.createElement(be.a,{className:p.avatar},r.a.createElement(Ee.a,null)),r.a.createElement(d.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement(d.a,{component:"h3",variant:"h6",style:{color:"#e60000"}},s),r.a.createElement("form",{className:p.form,onSubmit:g.handleSubmit},r.a.createElement(A.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:g.values.email,autoComplete:"email",autoFocus:!0,onChange:g.handleChange}),r.a.createElement(A.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:g.values.password,autoComplete:"current-password",onChange:g.handleChange}),o?r.a.createElement(w.b,{to:"/githubpages"},r.a.createElement(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:p.submit},"Sign In")):r.a.createElement(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:p.submit},"Sign In"),r.a.createElement(P.a,{container:!0},r.a.createElement(P.a,{item:!0,xs:!0},r.a.createElement(w.b,{to:"/forgot-password",variant:"body2"},"Forgot password?")),r.a.createElement(P.a,{item:!0},r.a.createElement(w.b,{to:"/sign-up",variant:"body2"},"Don't have an account? Sign Up"))))))}var ve=t(33),ye=t(508),Oe=Object(m.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function we(){var e=Oe();return r.a.createElement("div",{className:e.root},r.a.createElement(ye.a,null))}var Ce=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(6),marginBottom:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",maxWidth:500},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"90%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:"blue",color:"white","&:hover":{backgroundColor:"blue"}}}})),je=ve.a().shape({firstName:ve.c().min(3,"Minimum 3 characters"),lastName:ve.c().min(3,"Minimum 3 characters"),email:ve.c().email("Invalid"),password:ve.c().matches("^(?=.{4,})(?=.*[A-Z])(?=.*[0-9])[A-Za-z0-9]*$","Must Contain 4 Characters, at least One Uppercase and One Number"),confirmedPassword:ve.c().oneOf([ve.b("password"),null],"password must match")});function xe(){var e=Object(n.useState)(),a=Object(i.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)(!1),c=Object(i.a)(l,2),m=c[0],s=c[1],u=Object(ee.a)({initialValues:{firstName:"",lastName:"",email:"",password:"",confirmedPassword:""},validationSchema:je,onSubmit:function(e){s(!0),z.a.all([z.a.post("https://d-bookstore.herokuapp.com/user",e),z.a.post("https://d-bookstore.herokuapp.com/mail-sender/register",{name:e.firstName,email:e.email})]).then(z.a.spread((function(e,a){201===e.status&&o("User Registered Successfully!"),s(!1)}))).catch((function(e){409===e.response.status&&o("Email Already Registered!"),s(!1)}))}}),p=u.handleSubmit,g=u.handleChange,b=u.values,h=u.errors,E=Ce();return r.a.createElement(B.a,{component:"main",maxWidth:"xs"},r.a.createElement(T.a,null),r.a.createElement(D.a,{className:E.paper,variant:"elevation"},r.a.createElement(be.a,{className:E.avatar},r.a.createElement(Ee.a,null)),r.a.createElement(d.a,{component:"h1",variant:"h5"},"Sign up"),m?r.a.createElement(we,null):null,r.a.createElement(d.a,{component:"h3",variant:"h6",style:"User Registered Successfully!"===t?{color:"green"}:{color:"#e60000"}},t),r.a.createElement("form",{className:E.form,onSubmit:p},r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,size:"small",onChange:g,value:b.firstName}),r.a.createElement("div",{style:{color:"red"}},h.firstName?h.firstName:null)),r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",size:"small",onChange:g,value:b.lastName}),r.a.createElement("div",{style:{color:"red"}},h.lastName?h.lastName:null)),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",size:"small",onChange:g,value:b.email}),r.a.createElement("div",{style:{color:"red"}},h.email?h.email:null)),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",size:"small",onChange:g,value:b.password}),r.a.createElement("div",{style:{color:"red"}},h.password?h.password:null)),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmedPassword",label:"Confirmed Password",type:"password",id:"confirmedPassword",autoComplete:"current-password",size:"small",onChange:g,value:b.confirmedPassword}),r.a.createElement("div",{style:{color:"red"}},h.confirmedPassword?h.confirmedPassword:null))),r.a.createElement(W.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"primary",className:E.submit},"Sign Up"),r.a.createElement(P.a,{container:!0,justify:"center"},r.a.createElement(P.a,{item:!0},r.a.createElement(w.b,{to:"/login",variant:"body2"},"Already have an account? Sign in")))),r.a.createElement("h1",null)))}var Se=t(509),Ne=t(510),Ie=t(511),We=t(512),Te=t(513),Ae=t(514),Pe=t(180),Be=t.n(Pe),De=Object(m.a)((function(e){var a;return{grow:{flexGrow:1},root:{flexGrow:1,maxWidth:"100%",maxHeight:"100%",display:"flex",justify:"center"},item:{justify:"centre"},media:(a={width:400},Object(c.a)(a,e.breakpoints.up("md"),{height:250}),Object(c.a)(a,"height",200),Object(c.a)(a,"margin","auto"),Object(c.a)(a,"display","block"),Object(c.a)(a,"maxWidth","100%"),Object(c.a)(a,"maxHeight","100%"),a),table:Object(c.a)({},e.breakpoints.up("md"),{marginLeft:"24%"})}}));function qe(){var e=De();return r.a.createElement(Se.a,{style:{paddingTop:20}},r.a.createElement(P.a,null,r.a.createElement(d.a,{variant:"h6",color:"inherit",align:"center"}," Your Order Has Been Placed Successfully!")),r.a.createElement(M.a,{className:e.media,image:Be.a,title:"Contemplative Reptile"}),r.a.createElement(Q.a,null,r.a.createElement(d.a,{variant:"h5",component:"h2",align:"center"},"Hurray!!!"),r.a.createElement(d.a,{align:"center"},r.a.createElement(d.a,{variant:"body2",color:"textSecondary",component:"p"},"Your order number is #2001539. We have emailed your order confirmation, and will send you an update when your order has shipped."),r.a.createElement(Ne.a,null,r.a.createElement(d.a,{align:"center",style:{width:700},className:e.table},r.a.createElement(Ie.a,{size:"small",border:1,style:{flex:"center"}},r.a.createElement(We.a,null,r.a.createElement(Te.a,null,r.a.createElement(Ae.a,{align:"center"},"Email us"),r.a.createElement(Ae.a,{align:"center"},"Contact"),r.a.createElement(Ae.a,{align:"center"},"Address"))),r.a.createElement("tbody",null,r.a.createElement(Te.a,null,r.a.createElement(Ae.a,{align:"center"},"abc@bridgelabz.com "),r.a.createElement(Ae.a,{align:"center"},"+911234567890"),r.a.createElement(Ae.a,{align:"left"},"Malhotra Complex,sector 23,RM marg,mumbai 40001"))))))),r.a.createElement("br",null),r.a.createElement(d.a,{align:"center"},r.a.createElement(w.b,{to:"/githubpages",style:{textDecoration:"none"}},r.a.createElement(W.a,{style:{marginBottom:40,backgroundColor:"#990033",color:"white"},variant:"contained",color:"secondary",size:"medium"},"Continue Shopping")))))}var ze=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(5),marginBottom:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Re(){var e=ze(),a=Object(n.useState)(!1),t=Object(i.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)(!1),m=Object(i.a)(c,2),s=m[0],u=m[1],p={headers:{Authorization:"Bearer "+localStorage.getItem("key")}},g=Object(ee.a)({initialValues:{bookTitle:"",bookAuthor:"",bookDescription:"",bookQuantity:"",bookPrice:"",bookImage:""},onSubmit:function(e){u(!0),z.a.post("https://d-bookstore.herokuapp.com/book",g.values,p).then((function(e){200===e.status&&(l(!0),u(!1))}))},validate:function(e){var a={};return e.bookTitle.length<3&&(a.bookTitle="title at least have 3 character"),e.bookAuthor.length<3&&(a.bookAuthor="title at least have 3 character"),e.bookDescription.length<3&&(a.bookDescription="title at least have 3 character"),e.bookQuantity<1&&(a.bookQuantity="enter no greater than 0"),e.bookPrice<0&&(a.bookPrice="enter positive number"),a}});return r.a.createElement("div",null,console.log(p),""===localStorage.getItem("key")?r.a.createElement(O.a,{to:"/login"}):r.a.createElement(B.a,{component:"main",maxWidth:"xs"},r.a.createElement(T.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(d.a,{variant:"h5",color:"inherit",noWrap:!0,className:e.title},"Add Book"),s?r.a.createElement(we,null):null,o?r.a.createElement(d.a,{component:"h3",variant:"h6",style:{color:"green"}},r.a.createElement("b",null,"Book Added Successfully!")):null,r.a.createElement("form",{className:e.form,onSubmit:g.handleSubmit},r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,name:"bookTitle",variant:"outlined",type:"text",fullWidth:!0,id:"bookTitle",label:"Book Title",value:g.values.bookTitle,onChange:g.handleChange,autoComplete:"locality"}),g.errors.bookTitle?r.a.createElement("error",{style:{color:"red"}},g.errors.bookTitle):null),r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,variant:"outlined",fullWidth:!0,type:"text",id:"bookAuthor",label:"Book Author",name:"bookAuthor",value:g.values.bookAuthor,onChange:g.handleChange,autoComplete:"locality"}),g.errors.bookAuthor&&!g.errors.bookTitle?r.a.createElement("error",{style:{color:"red"}},g.errors.bookAuthor):null),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{required:!0,variant:"outlined",fullWidth:!0,type:"text",id:"bookDescription",label:"Book Description",name:"bookDescription",value:g.values.bookDescription,onChange:g.handleChange,autoComplete:"locality"}),!g.errors.bookDescription||g.errors.bookAuthor||g.errors.bookTitle?null:r.a.createElement("error",{style:{color:"red"}},g.errors.bookDescription)),r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,variant:"outlined",fullWidth:!0,type:"number",name:"bookQuantity",label:"Quantity",id:"bookQuantity",value:g.values.bookQuantity,onChange:g.handleChange,autoComplete:"locality"}),!g.errors.bookQuantity||g.errors.bookDescription||g.errors.bookAuthor||g.errors.bookTitle?null:r.a.createElement("error",{style:{color:"red"}},g.errors.bookQuantity)),r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,variant:"outlined",fullWidth:!0,type:"number",name:"bookPrice",label:"Price",id:"bookPrice",value:g.values.bookPrice,onChange:g.handleChange,autoComplete:"locality"}),!g.errors.bookPrice||g.errors.bookDescription||g.errors.bookAuthor||g.errors.bookTitle||g.errors.bookQuantity?null:r.a.createElement("error",{style:{color:"red"}},g.errors.bookPrice)),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{type:"url",variant:"outlined",fullWidth:!0,id:"bookImage",label:"Book Image Url",name:"bookImage",value:g.values.bookImage,onChange:g.handleChange})),r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Save")),r.a.createElement(P.a,{item:!0,xs:12,sm:6},r.a.createElement(W.a,{type:"reset",fullWidth:!0,variant:"contained",color:"secondary",className:e.submit,onClick:function(){location.reload()}},"Reset")))))))}var Le=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Fe=ve.a().shape({email:ve.c().email("Invalid")});function Me(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),o=t[0],l=(t[1],Object(n.useState)(!1)),c=Object(i.a)(l,2),m=c[0],s=c[1],u=Object(n.useState)(!1),p=Object(i.a)(u,2),g=p[0],b=p[1],h=Object(n.useState)(),E=Object(i.a)(h,2),f=E[0],k=E[1],v=Le(),y=Object(ee.a)({initialValues:{email:""},validationSchema:Fe,onSubmit:function(a){b(!0),z.a.get("https://d-bookstore.herokuapp.com/user?email="+a.email).then((function(t){z.a.post("https://d-bookstore.herokuapp.com/mail-sender/forget-password",{email:a.email,password:t.data.password,name:t.data.firstName}).then((function(t){e.setForgetPasswordJwt(t.data.jwt),localStorage.setItem("userEmail",a.email),localStorage.setItem("key",t.data.jwt),b(!1),s(!0),k()}))})).catch((function(e){404===e.response.status&&(k("User Not Registered!"),b(!1),s(!1))}))}}),w=y.handleSubmit,C=y.handleChange,j=y.values,x=y.errors;return r.a.createElement(B.a,{component:"main",maxWidth:"xs"},o?r.a.createElement(O.a,{to:"/githubpages"}):null,r.a.createElement(T.a,null),r.a.createElement("div",{className:v.paper},r.a.createElement(be.a,{className:v.avatar},r.a.createElement(Ee.a,null)),g?r.a.createElement(we,null):null,r.a.createElement(d.a,{component:"h1",variant:"h5"},"Forget Password"),r.a.createElement(d.a,{component:"h4",variant:"h5",style:{color:"#e60000"}},f),m?r.a.createElement(d.a,{component:"h3",variant:"h6",style:{color:"green"}},"Password reset link is sent to your email."):null,r.a.createElement("form",{className:v.form,onSubmit:w},r.a.createElement(A.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:j.email,autoComplete:"email",autoFocus:!0,onChange:C}),r.a.createElement("div",{style:{color:"red"}},x.email?x.email:null),r.a.createElement(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:v.submit},"Reset Password"))))}var Qe=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),He=ve.a().shape({password:ve.c().matches("^(?=.{4,})(?=.*[A-Z])(?=.*[0-9])[A-Za-z0-9]*$","Must Contain 4 Characters, at least One Uppercase and One Number"),confirmedPassword:ve.c().oneOf([ve.b("password"),null],"password must match")});function Ve(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)(),m=Object(i.a)(c,2),s=m[0],u=m[1],p=Qe(),g={headers:{Authorization:"Bearer "+localStorage.getItem("key")}},b=Object(ee.a)({initialValues:{email:""},validationSchema:He,onSubmit:function(a){z.a.put("https://d-bookstore.herokuapp.com/user",{email:e.user.email,password:a.password,firstName:e.user.firstName,lastName:e.user.lastName},g).then((function(e){200===e.status&&u("Password Changed Successfully!")}))}}),h=b.handleSubmit,E=b.handleChange,f=b.values,k=b.errors;return r.a.createElement(B.a,{component:"main",maxWidth:"xs"},o?r.a.createElement(O.a,{to:"/login"}):null,r.a.createElement(T.a,null),r.a.createElement("div",{className:p.paper},r.a.createElement(be.a,{className:p.avatar},r.a.createElement(Ee.a,null)),r.a.createElement(d.a,{component:"h1",variant:"h5"},"New Password"),void 0!==s?(setTimeout((function(){l(!0)}),1e3),r.a.createElement(d.a,{component:"h3",variant:"h6",style:{color:"green"}},s)):null,r.a.createElement("form",{className:p.form,noValidate:!0,onSubmit:h},console.log("helo"),r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",size:"small",onChange:E,value:f.password}),k.password?k.password:null),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmedPassword",label:"Confirm Password",type:"password",id:"confirmedPassword",autoComplete:"current-password",size:"small",onChange:E,value:f.confirmedPassword}),k.confirmedPassword?k.confirmedPassword:null)),r.a.createElement(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:p.submit},"Reset Password"))))}var Ge=Object(m.a)((function(e){return{root:{flexGrow:1,marginTop:15},paper:{padding:e.spacing(3),margin:"auto",maxWidth:700},img:{margin:"auto",display:"block",width:100,height:128},cart:{paddingLeft:20}}}));function Ue(e){var a,t,n,o=Ge();return void 0!==e.book&&(a=e.book.bookTitle,n=e.book.bookImage,t=e.book.bookAuthor),r.a.createElement("div",{className:o.root},r.a.createElement(D.a,{className:o.paper,variant:"outlined"},r.a.createElement("div",null,r.a.createElement(P.a,{item:!0,direction:"column"},r.a.createElement("h3",null,e.orderDate)),r.a.createElement(P.a,{container:!0,spacing:3,className:"orderSummary"===e.page?o.cart:null},r.a.createElement(P.a,{item:!0},r.a.createElement("img",{className:o.img,alt:"complex",src:n})),r.a.createElement(P.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:4},r.a.createElement(P.a,{item:!0,xs:!0},r.a.createElement(d.a,{gutterBottom:!0,variant:"subtitle1",align:"justify"},a),r.a.createElement(d.a,{gutterBottom:!0,variant:"body2",color:"textSecondary",align:"left"},"By ",t),r.a.createElement(d.a,{gutterBottom:!0,variant:"body2",align:"left"},"(",e.quantity,")"))),r.a.createElement(P.a,null,r.a.createElement(d.a,{style:{marginTop:12},variant:"subtitle1",align:"left"},r.a.createElement("b",null,"Rs. ",e.price)))))))}var Je=Object(m.a)((function(e){return{root:{flexGrow:1,marginTop:15},paper:{padding:e.spacing(3),margin:"auto",maxWidth:700},title:Object(c.a)({marginTop:15},e.breakpoints.up("md"),{marginLeft:e.spacing(4.5)}),img:{margin:"auto",display:"block",width:100,height:128},cart:Object(c.a)({border:"thin solid #d9d9d9"},e.breakpoints.up("md"),{margin:"50px 200px"})}}));function $e(e){var a=Je(),t=Object(n.useState)(),o=Object(i.a)(t,2),l=o[0],c=o[1],m=Object(n.useState)(),s=Object(i.a)(m,2),u=s[0],p=s[1],g={headers:{Authorization:"Bearer "+localStorage.getItem("key")}};Object(n.useEffect)((function(){null!==localStorage.getItem("key")&&void 0!==localStorage.getItem("key")&&""!==localStorage.getItem("key")&&z.a.get("https://d-bookstore.herokuapp.com/order",g).then((function(e){c(e)}))}),[]);var b=[],h=[];if(void 0!==l)for(var E=0;E<l.data.length;E++)b.push(l.data[E].book.bookId),h.push(l.data[E]);var f=function(e){for(var a=0;a<u.length;a++)if(u[a].bookId==e)return a;return 2};return Object(n.useEffect)((function(){z.a.get("https://d-bookstore.herokuapp.com/book/get-books-by-id?ids="+b,g).then((function(e){p(e.data)}))}),[l]),r.a.createElement("div",null,""===localStorage.getItem("key")?r.a.createElement(O.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement(P.a,{className:a.cart},r.a.createElement(d.a,{variant:"h6",color:"inherit",noWrap:!0,className:a.title},"My Orders(",b.length," items)"),r.a.createElement(P.a,{style:{marginBottom:20}},0!==h.length&&void 0!==u?h.reverse().map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement(Ue,{book:u[f(b[h.length-a-1])],orderDate:h[a].date,price:e.totalPrice,quantity:e.bookQuantity}))})):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(w.b,{to:"/githubpages",style:{textDecoration:"none"}},r.a.createElement(W.a,{variant:"contained",style:{backgroundColor:"#990033",color:"white",marginLeft:30}},"SHOP NOW")))))))}var Ze=t(4),Ye=t(515),Ke=Object(Ze.a)((function(e){return{head:{backgroundColor:"blue",color:e.palette.common.white},body:{fontSize:14}}}))(Ae.a),_e=Object(m.a)((function(e){var a;return{layout:(a={margin:"20px"},Object(c.a)(a,e.breakpoints.up("md"),{margin:"50px 200px"}),Object(c.a)(a,"marginBottom",40),a),table:{minWidth:650}}}));function Xe(){var e,a,t,o,l,c,m,s=_e(),u=Object(n.useState)(),p=Object(i.a)(u,2),g=p[0],b=p[1],h={headers:{Authorization:"Bearer "+localStorage.getItem("key")}},E=[];if(console.log(g),void 0!==g)for(var f=g.length-1;f>=0;f--)E.push((e=g[f].orderId,a=g[f].user.email,t=g[f].book.bookTitle,o=g[f].customer.name+", "+g[f].customer.address+", "+g[f].customer.city+", "+g[f].customer.landmark+", "+g[f].customer.locality,l=g[f].bookQuantity,c=g[f].totalPrice,m=g[f].date,{orderId:e,email:a,book:t,address:o,quantity:l,price:c,orderDate:m}));return Object(n.useEffect)((function(){z.a.get("https://d-bookstore.herokuapp.com/order/all",h).then((function(e){return b(e.data)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:s.layout},r.a.createElement(d.a,{variant:"h6",color:"inherit",noWrap:!0,className:s.title},"Orders(",E.length," items)"),r.a.createElement(Ne.a,{component:D.a},r.a.createElement(Ie.a,{className:s.table,size:"small","aria-label":"a dense table"},r.a.createElement(We.a,null,r.a.createElement(Te.a,null,r.a.createElement(Ke,{style:{whiteSpace:"nowrap"}},"Id"),r.a.createElement(Ke,null,"User Email"),r.a.createElement(Ke,{align:"right"},"BookName"),r.a.createElement(Ke,{align:"right"},"Deliver To"),r.a.createElement(Ke,{align:"right"},"Quantity"),r.a.createElement(Ke,{style:{whiteSpace:"nowrap"},align:"right"},"Total Price"),r.a.createElement(Ke,{align:"right"},"Order Date"))),r.a.createElement(Ye.a,null,E.map((function(e,a){return r.a.createElement(Te.a,{key:e.orderId},r.a.createElement(Ae.a,{align:"right"},e.orderId),r.a.createElement(Ae.a,{component:"th",scope:"row"},e.email),r.a.createElement(Ae.a,{align:"right"},e.book),r.a.createElement(Ae.a,{align:"right"},e.address),r.a.createElement(Ae.a,{align:"right"},e.quantity),r.a.createElement(Ae.a,{align:"right"},e.price),r.a.createElement(Ae.a,{style:{whiteSpace:"nowrap"},align:"right"},e.orderDate))})))))))}var ea=Object(m.a)((function(e){return{footer:{backgroundColor:"#990033",padding:e.spacing(1),position:"fixed",maxHeight:40,bottom:0,width:"100%",height:60,background:"#6cf"}}})),aa=function(){var e=Object(n.useState)(0),a=Object(i.a)(e,1)[0],o=Object(n.useState)(""),l=Object(i.a)(o,2),c=l[0],m=l[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),p=u[0],g=u[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),E=h[0],f=h[1],k=Object(n.useState)(""),v=Object(i.a)(k,2),y=v[0],C=v[1],j=ea(),x=t(201);return Object(n.useEffect)((function(){""!==localStorage.getItem("key")&&void 0!==localStorage.getItem("key")&&null!=localStorage.getItem("key")&&(console.log(localStorage.getItem("key")),console.log(x.decode(localStorage.getItem("key"))),z.a.get("https://d-bookstore.herokuapp.com/user?email="+x.decode(localStorage.getItem("key")).sub).then((function(e){console.log("loaded user"),f(e.data)}))),C(localStorage.getItem("jwt"))}),[p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,null),r.a.createElement(w.a,null,r.a.createElement(I,{user:E,search:c,login:p,cartCount:a,setSearch:function(e){return m(e)}}),r.a.createElement("main",null,r.a.createElement(O.d,null,r.a.createElement(O.b,{path:"/githubpages",exact:!0,component:function(){return r.a.createElement(ge,{user:E,search:c})}}),r.a.createElement(O.b,{path:"/sign-up",exact:!0,component:function(){return r.a.createElement(xe,null)}}),r.a.createElement(O.b,{path:"/my-order",exact:!0,component:function(){return r.a.createElement($e,null)}}),r.a.createElement(O.b,{path:"/forgot-password",exact:!0,component:function(){return r.a.createElement(Me,{setForgetPasswordJwt:function(e){return localStorage.setItem("jwt","/reset-password/"+e)}})}}),r.a.createElement(O.b,{path:"/admin",exact:!0,component:function(){return r.a.createElement(Re,null)}}),r.a.createElement(O.b,{path:"/order-data",exact:!0,component:function(){return r.a.createElement(Xe,null)}}),r.a.createElement(O.b,{path:"/profile",exact:!0,component:function(){return r.a.createElement(L,{user:E})}}),r.a.createElement(O.b,{path:"/login",exact:!0,component:function(){return r.a.createElement(ke,{login:function(e){return g(e)}})}}),r.a.createElement(O.b,{path:"/cart",exact:!0,component:function(){return r.a.createElement(oe,{cartCount:a})}}),r.a.createElement(O.b,{path:"/customer",exact:!0,component:function(){return r.a.createElement(te,null)}}),r.a.createElement(O.b,{path:"/order-confirm",exact:!0,component:function(){return r.a.createElement(qe,null)}}),r.a.createElement(O.b,{path:y,exact:!0,component:function(){return r.a.createElement(Ve,{user:E})}})))),r.a.createElement("footer",{className:j.footer},r.a.createElement(d.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p"},(new Date).getFullYear()," Copyright: ",r.a.createElement("a",{href:"https://www.bookstore.com"}," TheBookStore.com "))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(aa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[286,1,2]]]);
//# sourceMappingURL=main.e0aa5375.chunk.js.map